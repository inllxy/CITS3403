{# templates/bracket_display.html #}
<div class="bracket-wrap">

  <!-- Winner side -->
  <div class="bracket bracket-left">
    {% for r in [1,2,3,4] %}
      {% set matches = comp.bracket[r] %}
      <div class="round round-{{r}}">
        <div class="round-title">
          {% if r==1 %}Quarterfinal
          {% elif r==2 %}Top 8
          {% elif r==3 %}Semifinal
          {% else %}Grand Final{% endif %}
        </div>
        <div class="matches">
          {% for m in matches %}
          <div class="match">
            <div class="player-box">{{m.score1}} {{m.team1}} | {{m.player1}}</div>
            <div class="player-box">{{m.score2}} {{m.team2}} | {{m.player2}}</div>
          </div>
          {% endfor %}
        </div>
      </div>
    {% endfor %}
  </div>

  <!-- Loser side -->
  <div class="bracket bracket-right">
    {% for r in [10,9,8,7,6,5] %}
      {% set matches = comp.bracket[r] %}
      <div class="round round-{{r}}">
        <div class="round-title">
          {% if r==10 %}Loser Final
          {% elif r==9 %}Loser Semifinal
          {% elif r==8 %}Loser Quarterfinal
          {% else %}Loser Round {{11 - r}}{% endif %}
        </div>
        <div class="matches">
          {% for m in matches %}
          <div class="match">
            <div class="player-box">{{m.score1}} {{m.team1}} | {{m.player1}}</div>
            <div class="player-box">{{m.score2}} {{m.team2}} | {{m.player2}}</div>
          </div>
          {% endfor %}
        </div>
      </div>
    {% endfor %}
  </div>

</div>







